{"version":3,"sources":["app/components/App.jsx","app/components/Autocopmlete.jsx","app/components/BookSelector.jsx","app/components/PureAutocomplete.js","app/initialize.js","app/services/data.js","app/services/suggest.js"],"names":["BookCard","item","title","author","year","App","placeholder","Component","stopEvent","e","stopPropagation","preventDefault","fn","EmptyWarning","Autocomplete","p","c","state","activeHintIndex","showHints","index","submit","props","items","suggest","getText","submitItem","nextProps","setState","length","onSubmit","text","opCount","key","activateHint","applyHint","submitText","value","fallback","inputProps","Item","itemsTitle","hintsVisible","join","target","handleKey","map","i","id","PureComponent","EMPTY_A","EMPTY_O","defaultProps","describeBook","b","Highlight","range","slice","field","highlight","BookSelector","submitted","search","then","forceUpdate","found","cache","useFallback","popular","loading","qs","emptyWarningTmpl","PureAutocomplete","_element","Object","assign","_input","getElementsByTagName","autocomplete","spellcheck","_inputWrapper","getElementsByClassName","addEventListener","handleChange","_popup","document","createElement","className","_content","appendChild","_itemList","render","loadOptions","patch","style","display","innerHTML","el","forEach","itemTemplate","bookTemplate","querySelector","pureForm","getElementById","pureOutput","service","Promise","resolve","setTimeout","suggestions","searcher","filter","m","matches","match","indices","shouldSort","includeMatches","threshold","location","distance","minMatchCharLength","keys","Math","random"],"mappings":"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","file":"public/app.js","sourcesContent":["import React from 'react';\nimport BookSelector from './BookSelector';\n\nconst BookCard = ({ item }) => (\n  <div className=\"book-card\">\n    <div className=\"book-card__title\">{item.item.title}</div>\n    <div className=\"book-card__info\">\n      {item.item.author} \n      <span className=\"book-card__year\">{item.item.year}</span>\n    </div>\n  </div>\n);\n\nexport default class App extends React.Component {\n  render() {\n    return <div>\n      <BookSelector \n        inputProps={{ placeholder: 'Plain book finder — who\\'s N...i...k...o...' }}\n      />\n      <BookSelector\n        inputProps={{ placeholder: 'Custom hint layout — find Fyodor' }} \n        Item={BookCard}\n      />\n      <BookSelector\n        inputProps={{ placeholder: 'Fallback to suggested reading — try Piotr' }}\n        fallback\n      />\n    </div>;\n  }\n}\n","import React from 'react';\nimport withClickOutside from 'react-click-outside';\n\nconst stopEvent = fn => e => {\n  e.stopPropagation();\n  e.preventDefault();\n  fn(e);\n};\n\nconst EmptyWarning = () => <div>Nothing found</div>;\n\nclass Autocomplete extends React.PureComponent {\n  constructor(p, c) {\n    super(p, c);\n    this.state = {\n      activeHintIndex: -1,\n      showHints: false\n    };\n  }\n\n  applyHint(index, submit) {\n    const item = this.props.items[index];\n    this.props.suggest(this.props.getText(item));\n    if (submit) {\n      this.submitItem(item);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.items[0] && this.state.activeHintIndex < 0) {\n      this.setState({ activeHintIndex: 0 });\n    }\n  }\n\n  activateHint(index) {\n    this.setState({ activeHintIndex: index % this.props.items.length });\n  }\n\n  submitItem(item) {\n    this.setState({ showHints: false });\n    this.props.onSubmit(this.props.getText(item), item);\n  }\n\n  submitText(text) {\n    this.setState({ showHints: false });\n    this.props.onSubmit(text, null);\n  }\n\n  handleKey(e) {\n    const { activeHintIndex, showHints } = this.state;\n    const opCount = this.props.items.length;\n\n    if (e.key === 'ArrowDown') {\n      this.setState({ showHints: true });\n      this.activateHint(activeHintIndex + 1);\n      e.stopPropagation();\n    } else if (e.key === 'ArrowUp') {\n      this.setState({ showHints: true });\n      this.activateHint(activeHintIndex === -1 ? opCount - 1 : activeHintIndex - 1);\n      e.preventDefault();\n      e.stopPropagation();\n    } else if (e.key === 'Enter') {\n      if (showHints && activeHintIndex >= 0) {\n        this.applyHint(activeHintIndex, true);\n      } else {\n        this.submitText(this.props.value);\n      }\n      e.preventDefault();\n      e.stopPropagation();\n    } else if (e.key === 'Escape') {\n      if (showHints) {\n        this.setState({ showHints: false });\n        e.stopPropagation();\n      }\n    } else if (e.key === 'Tab') {\n      if (showHints) {\n        this.setState({ showHints: false });\n        e.stopPropagation();\n      }\n    } else {\n      this.setState({ showHints: true });\n    }\n  }\n\n  handleClickOutside() {\n    this.setState({ showHints: false });\n  }\n\n  render() {\n    const { value, suggest, items = [], fallback, inputProps, Item, itemsTitle } = this.props;\n    const { showHints, activeHintIndex } = this.state;\n    const hintsVisible = showHints && (items.length > 0 || value);\n    const onSubmit = stopEvent(() => (showHints && activeHintIndex >= 0)\n      ? this.applyHint(activeHintIndex, true)\n      : this.submitText(value));\n\n    return (<form className=\"suggest\" onSubmit={onSubmit}>\n      <div className={['suggest__search', hintsVisible ? 'suggest__search--active' : ''].join(' ')}>\n        <input\n          className='suggest__search__input'\n          autoComplete=\"nope\"\n          spellCheck=\"false\"\n          value={value}\n          onChange={e => suggest(e.target.value)}\n          onFocus={() => this.setState({ showHints: true })}\n          onMouseDown={() => this.setState({ showHints: !showHints })}\n          onKeyDown={e => this.handleKey(e)} \n          {...inputProps} />\n        <button className=\"suggest__search__submit\">\n          Search\n        </button>\n      </div>\n      {hintsVisible && (<div className=\"suggest__popup\">\n        <div className=\"suggest__content\">\n          <ul className=\"suggest__items\">\n            {(items.length === 0 && value) && (\n              <li key=\"$empty\" className=\"suggest-item suggest-item--empty\">\n                <EmptyWarning />\n              </li>\n            )}\n            {(itemsTitle) && (\n              <li key=\"$title\" className=\"suggest-item suggest-item--empty\">\n                {itemsTitle}\n              </li>\n            )}\n            {items.map((item, i) => (\n              <li\n                key={item.item.id}\n                className={['suggest-item', activeHintIndex === i ? 'suggest-item--selected' : ''].join(' ')}\n                onMouseEnter={() => this.activateHint(i)}\n                onClick={stopEvent(() => this.applyHint(i, true))}\n              >\n                <span className=\"suggest2-item__text\">\n                  <Item item={item} />\n                </span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>)}\n    </form>);\n  }\n}\n\nconst EMPTY_A = [];\nconst EMPTY_O = {};\nAutocomplete.defaultProps = {\n  items: EMPTY_A,\n  inputProps: EMPTY_O,\n  value: ''\n};\n\nexport default withClickOutside(Autocomplete);","import React from 'react';\nimport Autocomplete from './Autocopmlete';\nimport suggestService from '../services/suggest';\n\nconst describeBook = b => `${b.item.title} by ${b.item.author}, ${b.item.year}`;\n\nconst Highlight = ({ text, range }) => {\n  if (!range) {\n    return <span>{text}</span>;\n  }\n  return (<span>\n    {text.slice(0, range[0])}\n    <b>{text.slice(range[0], range[1] + 1)}</b>\n    {text.slice(range[1] + 1)}\n  </span>); \n};\n\nconst Item = ({ item }) => {\n  const field = key => (<Highlight\n    text={item.item[key]}\n    range={key === item.highlight.key ? item.highlight.range : null}\n  />);\n  return (<div>\n    {field('title')} by {field('author')}, {item.item.year}\n  </div>);\n};\n\nexport default class BookSelector extends React.Component {\n  constructor(p, c) {\n    super(p, c);\n    this.state = { submitted: null };\n  }\n\n  search(search) {\n    this.setState({ search });\n    suggestService.search(search).then(() => this.forceUpdate());\n  }\n  \n  render() {\n    const { search, submitted } = this.state;\n    const { fallback } = this.props;\n    \n    const found = suggestService.cache[search];\n    const useFallback = fallback && (!found || found.length === 0);\n    const itemsTitle = useFallback ? 'Nothing found, try our suggestions:' : null;\n    const items = useFallback ? suggestService.popular : found;\n\n    return <div className=\"showcase-block\">\n      <Autocomplete\n        value={search}\n        items={items}\n        itemsTitle={itemsTitle}\n        loading={suggestService.loading[search]}\n        suggest={qs => this.search(qs)}\n        onSubmit={qs => this.setState({ submitted: qs })}\n        getText={describeBook}\n        Item={Item}\n        {...this.props}\n      />\n      {(submitted != null) && <div className=\"search-results\">\n        Search results for {submitted}\n      </div>}\n    </div>;\n  }\n}\n","const stopEvent = fn => e => {\n  e.stopPropagation();\n  e.preventDefault();\n  fn(e);\n};\n\nconst emptyWarningTmpl = () => '<div>Nothing found</div>';\n\nclass PureAutocomplete {\n  constructor(_element, props) {\n    this.state = {\n      activeHintIndex: -1,\n      showHints: false\n    };\n    this.props = Object.assign({ items: [] }, props);\n\n    this._element = _element;\n    this._input = _element.getElementsByTagName('input')[0];\n    this._input.autocomplete = 'off';\n    this._input.spellcheck = 'off';\n    this._inputWrapper = _element.getElementsByClassName('suggest__search')[0];\n\n    this._element.addEventListener('submit', stopEvent(() => this.submitText(this._input.value)));\n    this._input.addEventListener('focus', () => this.setState({ showHints: true }));\n    this._input.addEventListener('mousedown', (e) => {\n      this.setState({ showHints: !this.state.showHints });\n    });\n    this._input.addEventListener('keydown', (e) => this.handleKey(e));\n    this._input.addEventListener('input', e => this.handleChange(e.target.value));\n\n    this._popup = document.createElement('div');\n    this._popup.className = 'suggest__popup';\n    this._content = document.createElement('div');\n    this._content.className = 'suggest__content';\n    this._popup.appendChild(this._content);\n    this._itemList = document.createElement('ul');\n    this._itemList.className = 'suggest__items';\n    this._content.appendChild(this._itemList);\n    this._element.appendChild(this._popup);\n\n    this.render();\n  }\n\n  handleChange(qs) {\n    this.props.value = qs;\n    this.props.loadOptions(qs).then((items = []) => {\n      if (qs !== this.props.value) return;\n\n      this.props.items = items;\n      this.render();\n    });\n  }\n\n  setState(patch) {\n    Object.assign(this.state, patch);\n    this.render();\n  }\n\n  applyHint(index, submit) {\n    const item = this.props.items[index];\n    this._input.value = this.props.getText(item);\n    if (submit) {\n      this.submitItem(item);\n    }\n  }\n\n  activateHint(index) {\n    this.setState({ activeHintIndex: index % this.props.items.length });\n  }\n\n  submitItem(item) {\n    this.setState({ showHints: false });\n    this.props.onSubmit(this.props.getText(item), item);\n  }\n\n  submitText(text) {\n    this.setState({ showHints: false });\n    this.props.onSubmit(text, null);\n  }\n\n  handleKey(e) {\n    const { activeHintIndex, showHints } = this.state;\n    const opCount = this.props.items.length;\n\n    if (e.key === 'ArrowDown') {\n      this.setState({ showHints: true });\n      this.activateHint(activeHintIndex + 1);\n      e.stopPropagation();\n    } else if (e.key === 'ArrowUp') {\n      this.setState({ showHints: true });\n      this.activateHint(activeHintIndex === -1 ? opCount - 1 : activeHintIndex - 1);\n      e.preventDefault();\n      e.stopPropagation();\n    } else if (e.key === 'Enter') {\n      if (showHints && activeHintIndex >= 0) {\n        this.applyHint(activeHintIndex, true);\n      } else {\n        this.submitText(this.props.value);\n      }\n      e.preventDefault();\n      e.stopPropagation();\n    } else if (e.key === 'Escape') {\n      if (showHints) {\n        this.setState({ showHints: false });\n        e.stopPropagation();\n      }\n    } else if (e.key === 'Tab') {\n      if (showHints) {\n        this.setState({ showHints: false });\n        e.stopPropagation();\n      }\n    } else {\n      this.setState({ showHints: true });\n    }\n  }\n\n  render() {\n    const { value, suggest, items = [], fallback, inputProps, Item, itemsTitle } = this.props;\n    const { showHints, activeHintIndex } = this.state;\n    const hintsVisible = showHints && (items.length > 0 || value);\n\n    this._inputWrapper.className = ['suggest__search', hintsVisible ? 'suggest__search--active' : ''].join(' ');\n    this._popup.style.display = hintsVisible ? null : 'none';\n    this._itemList.innerHTML = '';\n\n    if (showHints) {\n      if (items.length === 0 && value)  {\n        const el = document.createElement('li');\n        el.className = 'suggest-item suggest-item--empty';\n        el.innerHTML = 'No items found';\n        this._itemList.appendChild(el);\n      }\n      if (itemsTitle) {\n        const el = document.createElement('li');\n        el.className = 'suggest-item suggest-item--empty';\n        el.innerHTML = itemsTitle;\n        this._itemList.appendChild(el);\n      }\n      items.forEach((item, i) => {\n        const el = document.createElement('li');\n        el.className = 'suggest-item';\n        if (activeHintIndex === i) {\n          el.className += ' suggest-item--selected';\n        }\n        el.addEventListener('mouseenter', () => this.activateHint(i));\n        el.addEventListener('mouseup', () => this.applyHint(i, true));\n        el.innerHTML = `<span class=\"suggest-item__text\">\n          ${this.props.itemTemplate(item)}\n        </span>`;\n        this._itemList.appendChild(el);\n      });\n    }\n  }\n}\n\nexport default PureAutocomplete;","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport App from 'components/App';\n\nimport PureAutocomplete from 'components/PureAutocomplete';\nimport suggestService from 'services/suggest';\nconst describeBook = b => `${b.item.title} by ${b.item.author}, ${b.item.year}`;\nconst bookTemplate = ({ item }) => `\n  <div class=\"book-card\">\n    <div class=\"book-card__title\">${item.title}</div>\n    <div class=\"book-card__info\">\n      ${item.author}\n      <span class=\"book-card__year\">${item.year}</span>\n    </div>\n  </div>\n`;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ReactDOM.render(<App />, document.querySelector('#app'));\n  \n  const pureForm = document.getElementById('pure-form');\n  const pureOutput = document.getElementById('pure-output');\n  new PureAutocomplete(pureForm, {\n    loadOptions: (qs) => {\n      return suggestService.search(qs).then(() => suggestService.cache[qs]);\n    },\n    onSubmit: (qs) => {\n      pureOutput.innerHTML = `Search results for ${qs}`;\n    },\n    getText: describeBook,\n    itemTemplate: bookTemplate\n  });\n});\n","export default [\n  {\n    \"author\": \"Chinua Achebe\",\n    \"country\": \"Nigeria\",\n    \"imageLink\": \"images/things-fall-apart.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Things_Fall_Apart\\n\",\n    \"pages\": 209,\n    \"title\": \"Things Fall Apart\",\n    \"year\": 1958\n  },\n  {\n    \"author\": \"Hans Christian Andersen\",\n    \"country\": \"Denmark\",\n    \"imageLink\": \"images/fairy-tales.jpg\",\n    \"language\": \"Danish\",\n    \"link\": \"https://en.wikipedia.org/wiki/Fairy_Tales_Told_for_Children._First_Collection.\\n\",\n    \"pages\": 784,\n    \"title\": \"Fairy tales\",\n    \"year\": 1836\n  },\n  {\n    \"author\": \"Dante Alighieri\",\n    \"country\": \"Italy\",\n    \"imageLink\": \"images/the-divine-comedy.jpg\",\n    \"language\": \"Italian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Divine_Comedy\\n\",\n    \"pages\": 928,\n    \"title\": \"The Divine Comedy\",\n    \"year\": 1315\n  },\n  {\n    \"author\": \"Unknown\",\n    \"country\": \"Sumer and Akkadian Empire\",\n    \"imageLink\": \"images/the-epic-of-gilgamesh.jpg\",\n    \"language\": \"Akkadian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Epic_of_Gilgamesh\\n\",\n    \"pages\": 160,\n    \"title\": \"The Epic Of Gilgamesh\",\n    \"year\": -1700\n  },\n  {\n    \"author\": \"Unknown\",\n    \"country\": \"Achaemenid Empire\",\n    \"imageLink\": \"images/the-book-of-job.jpg\",\n    \"language\": \"Hebrew\",\n    \"link\": \"https://en.wikipedia.org/wiki/Book_of_Job\\n\",\n    \"pages\": 176,\n    \"title\": \"The Book Of Job\",\n    \"year\": -600\n  },\n  {\n    \"author\": \"Unknown\",\n    \"country\": \"India/Iran/Iraq/Egypt/Tajikistan\",\n    \"imageLink\": \"images/one-thousand-and-one-nights.jpg\",\n    \"language\": \"Arabic\",\n    \"link\": \"https://en.wikipedia.org/wiki/One_Thousand_and_One_Nights\\n\",\n    \"pages\": 288,\n    \"title\": \"One Thousand and One Nights\",\n    \"year\": 1200\n  },\n  {\n    \"author\": \"Unknown\",\n    \"country\": \"Iceland\",\n    \"imageLink\": \"images/njals-saga.jpg\",\n    \"language\": \"Old Norse\",\n    \"link\": \"https://en.wikipedia.org/wiki/Nj%C3%A1ls_saga\\n\",\n    \"pages\": 384,\n    \"title\": \"Nj\\u00e1l's Saga\",\n    \"year\": 1350\n  },\n  {\n    \"author\": \"Jane Austen\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/pride-and-prejudice.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Pride_and_Prejudice\\n\",\n    \"pages\": 226,\n    \"title\": \"Pride and Prejudice\",\n    \"year\": 1813\n  },\n  {\n    \"author\": \"Honor\\u00e9 de Balzac\",\n    \"country\": \"France\",\n    \"imageLink\": \"images/le-pere-goriot.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/Le_P%C3%A8re_Goriot\\n\",\n    \"pages\": 443,\n    \"title\": \"Le P\\u00e8re Goriot\",\n    \"year\": 1835\n  },\n  {\n    \"author\": \"Samuel Beckett\",\n    \"country\": \"Republic of Ireland\",\n    \"imageLink\": \"images/molloy-malone-dies-the-unnamable.jpg\",\n    \"language\": \"French, English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Molloy_(novel)\\n\",\n    \"pages\": 256,\n    \"title\": \"Molloy, Malone Dies, The Unnamable, the trilogy\",\n    \"year\": 1952\n  },\n  {\n    \"author\": \"Giovanni Boccaccio\",\n    \"country\": \"Italy\",\n    \"imageLink\": \"images/the-decameron.jpg\",\n    \"language\": \"Italian\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Decameron\\n\",\n    \"pages\": 1024,\n    \"title\": \"The Decameron\",\n    \"year\": 1351\n  },\n  {\n    \"author\": \"Jorge Luis Borges\",\n    \"country\": \"Argentina\",\n    \"imageLink\": \"images/ficciones.jpg\",\n    \"language\": \"Spanish\",\n    \"link\": \"https://en.wikipedia.org/wiki/Ficciones\\n\",\n    \"pages\": 224,\n    \"title\": \"Ficciones\",\n    \"year\": 1965\n  },\n  {\n    \"author\": \"Emily Bront\\u00eb\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/wuthering-heights.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Wuthering_Heights\\n\",\n    \"pages\": 342,\n    \"title\": \"Wuthering Heights\",\n    \"year\": 1847\n  },\n  {\n    \"author\": \"Albert Camus\",\n    \"country\": \"Algeria, French Empire\",\n    \"imageLink\": \"images/l-etranger.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Stranger_(novel)\\n\",\n    \"pages\": 185,\n    \"title\": \"The Stranger\",\n    \"year\": 1942\n  },\n  {\n    \"author\": \"Paul Celan\",\n    \"country\": \"Romania, France\",\n    \"imageLink\": \"images/poems-paul-celan.jpg\",\n    \"language\": \"German\",\n    \"link\": \"\\n\",\n    \"pages\": 320,\n    \"title\": \"Poems\",\n    \"year\": 1952\n  },\n  {\n    \"author\": \"Louis-Ferdinand C\\u00e9line\",\n    \"country\": \"France\",\n    \"imageLink\": \"images/voyage-au-bout-de-la-nuit.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/Journey_to_the_End_of_the_Night\\n\",\n    \"pages\": 505,\n    \"title\": \"Journey to the End of the Night\",\n    \"year\": 1932\n  },\n  {\n    \"author\": \"Miguel de Cervantes\",\n    \"country\": \"Spain\",\n    \"imageLink\": \"images/don-quijote-de-la-mancha.jpg\",\n    \"language\": \"Spanish\",\n    \"link\": \"https://en.wikipedia.org/wiki/Don_Quixote\\n\",\n    \"pages\": 1056,\n    \"title\": \"Don Quijote De La Mancha\",\n    \"year\": 1610\n  },\n  {\n    \"author\": \"Geoffrey Chaucer\",\n    \"country\": \"England\",\n    \"imageLink\": \"images/the-canterbury-tales.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Canterbury_Tales\\n\",\n    \"pages\": 544,\n    \"title\": \"The Canterbury Tales\",\n    \"year\": 1450\n  },\n  {\n    \"author\": \"Anton Chekhov\",\n    \"country\": \"Russia\",\n    \"imageLink\": \"images/stories-of-anton-chekhov.jpg\",\n    \"language\": \"Russian\",\n    \"link\": \"https://en.wikipedia.org/wiki/List_of_short_stories_by_Anton_Chekhov\\n\",\n    \"pages\": 194,\n    \"title\": \"Stories\",\n    \"year\": 1886\n  },\n  {\n    \"author\": \"Joseph Conrad\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/nostromo.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Nostromo\\n\",\n    \"pages\": 320,\n    \"title\": \"Nostromo\",\n    \"year\": 1904\n  },\n  {\n    \"author\": \"Charles Dickens\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/great-expectations.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Great_Expectations\\n\",\n    \"pages\": 194,\n    \"title\": \"Great Expectations\",\n    \"year\": 1861\n  },\n  {\n    \"author\": \"Denis Diderot\",\n    \"country\": \"France\",\n    \"imageLink\": \"images/jacques-the-fatalist.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/Jacques_the_Fatalist\\n\",\n    \"pages\": 596,\n    \"title\": \"Jacques the Fatalist\",\n    \"year\": 1796\n  },\n  {\n    \"author\": \"Alfred D\\u00f6blin\",\n    \"country\": \"Germany\",\n    \"imageLink\": \"images/berlin-alexanderplatz.jpg\",\n    \"language\": \"German\",\n    \"link\": \"https://en.wikipedia.org/wiki/Berlin_Alexanderplatz\\n\",\n    \"pages\": 600,\n    \"title\": \"Berlin Alexanderplatz\",\n    \"year\": 1929\n  },\n  {\n    \"author\": \"Fyodor Dostoevsky\",\n    \"country\": \"Russia\",\n    \"imageLink\": \"images/crime-and-punishment.jpg\",\n    \"language\": \"Russian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Crime_and_Punishment\\n\",\n    \"pages\": 551,\n    \"title\": \"Crime and Punishment\",\n    \"year\": 1866\n  },\n  {\n    \"author\": \"Fyodor Dostoevsky\",\n    \"country\": \"Russia\",\n    \"imageLink\": \"images/the-idiot.jpg\",\n    \"language\": \"Russian\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Idiot\\n\",\n    \"pages\": 656,\n    \"title\": \"The Idiot\",\n    \"year\": 1869\n  },\n  {\n    \"author\": \"Fyodor Dostoevsky\",\n    \"country\": \"Russia\",\n    \"imageLink\": \"images/the-possessed.jpg\",\n    \"language\": \"Russian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Demons_(Dostoyevsky_novel)\\n\",\n    \"pages\": 768,\n    \"title\": \"The Possessed\",\n    \"year\": 1872\n  },\n  {\n    \"author\": \"Fyodor Dostoevsky\",\n    \"country\": \"Russia\",\n    \"imageLink\": \"images/the-brothers-karamazov.jpg\",\n    \"language\": \"Russian\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Brothers_Karamazov\\n\",\n    \"pages\": 824,\n    \"title\": \"The Brothers Karamazov\",\n    \"year\": 1880\n  },\n  {\n    \"author\": \"George Eliot\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/middlemarch.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Middlemarch\\n\",\n    \"pages\": 800,\n    \"title\": \"Middlemarch\",\n    \"year\": 1871\n  },\n  {\n    \"author\": \"Ralph Ellison\",\n    \"country\": \"United States\",\n    \"imageLink\": \"images/invisible-man.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Invisible_Man\\n\",\n    \"pages\": 581,\n    \"title\": \"Invisible Man\",\n    \"year\": 1952\n  },\n  {\n    \"author\": \"Euripides\",\n    \"country\": \"Greece\",\n    \"imageLink\": \"images/medea.jpg\",\n    \"language\": \"Greek\",\n    \"link\": \"https://en.wikipedia.org/wiki/Medea_(play)\\n\",\n    \"pages\": 104,\n    \"title\": \"Medea\",\n    \"year\": -431\n  },\n  {\n    \"author\": \"William Faulkner\",\n    \"country\": \"United States\",\n    \"imageLink\": \"images/absalom-absalom.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Absalom,_Absalom!\\n\",\n    \"pages\": 313,\n    \"title\": \"Absalom, Absalom!\",\n    \"year\": 1936\n  },\n  {\n    \"author\": \"William Faulkner\",\n    \"country\": \"United States\",\n    \"imageLink\": \"images/the-sound-and-the-fury.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Sound_and_the_Fury\\n\",\n    \"pages\": 326,\n    \"title\": \"The Sound and the Fury\",\n    \"year\": 1929\n  },\n  {\n    \"author\": \"Gustave Flaubert\",\n    \"country\": \"France\",\n    \"imageLink\": \"images/madame-bovary.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/Madame_Bovary\\n\",\n    \"pages\": 528,\n    \"title\": \"Madame Bovary\",\n    \"year\": 1857\n  },\n  {\n    \"author\": \"Gustave Flaubert\",\n    \"country\": \"France\",\n    \"imageLink\": \"images/l-education-sentimentale.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/Sentimental_Education\\n\",\n    \"pages\": 606,\n    \"title\": \"Sentimental Education\",\n    \"year\": 1869\n  },\n  {\n    \"author\": \"Federico Garc\\u00eda Lorca\",\n    \"country\": \"Spain\",\n    \"imageLink\": \"images/gypsy-ballads.jpg\",\n    \"language\": \"Spanish\",\n    \"link\": \"https://en.wikipedia.org/wiki/Gypsy_Ballads\\n\",\n    \"pages\": 218,\n    \"title\": \"Gypsy Ballads\",\n    \"year\": 1928\n  },\n  {\n    \"author\": \"Gabriel Garc\\u00eda M\\u00e1rquez\",\n    \"country\": \"Colombia\",\n    \"imageLink\": \"images/one-hundred-years-of-solitude.jpg\",\n    \"language\": \"Spanish\",\n    \"link\": \"https://en.wikipedia.org/wiki/One_Hundred_Years_of_Solitude\\n\",\n    \"pages\": 417,\n    \"title\": \"One Hundred Years of Solitude\",\n    \"year\": 1967\n  },\n  {\n    \"author\": \"Gabriel Garc\\u00eda M\\u00e1rquez\",\n    \"country\": \"Colombia\",\n    \"imageLink\": \"images/love-in-the-time-of-cholera.jpg\",\n    \"language\": \"Spanish\",\n    \"link\": \"https://en.wikipedia.org/wiki/Love_in_the_Time_of_Cholera\\n\",\n    \"pages\": 368,\n    \"title\": \"Love in the Time of Cholera\",\n    \"year\": 1985\n  },\n  {\n    \"author\": \"Johann Wolfgang von Goethe\",\n    \"country\": \"Saxe-Weimar\",\n    \"imageLink\": \"images/faust.jpg\",\n    \"language\": \"German\",\n    \"link\": \"https://en.wikipedia.org/wiki/Goethe%27s_Faust\\n\",\n    \"pages\": 158,\n    \"title\": \"Faust\",\n    \"year\": 1832\n  },\n  {\n    \"author\": \"Nikolai Gogol\",\n    \"country\": \"Russia\",\n    \"imageLink\": \"images/dead-souls.jpg\",\n    \"language\": \"Russian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Dead_Souls\\n\",\n    \"pages\": 432,\n    \"title\": \"Dead Souls\",\n    \"year\": 1842\n  },\n  {\n    \"author\": \"G\\u00fcnter Grass\",\n    \"country\": \"Germany\",\n    \"imageLink\": \"images/the-tin-drum.jpg\",\n    \"language\": \"German\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Tin_Drum\\n\",\n    \"pages\": 600,\n    \"title\": \"The Tin Drum\",\n    \"year\": 1959\n  },\n  {\n    \"author\": \"Jo\\u00e3o Guimar\\u00e3es Rosa\",\n    \"country\": \"Brazil\",\n    \"imageLink\": \"images/the-devil-to-pay-in-the-backlands.jpg\",\n    \"language\": \"Portuguese\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Devil_to_Pay_in_the_Backlands\\n\",\n    \"pages\": 494,\n    \"title\": \"The Devil to Pay in the Backlands\",\n    \"year\": 1956\n  },\n  {\n    \"author\": \"Knut Hamsun\",\n    \"country\": \"Norway\",\n    \"imageLink\": \"images/hunger.jpg\",\n    \"language\": \"Norwegian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Hunger_(Hamsun_novel)\\n\",\n    \"pages\": 176,\n    \"title\": \"Hunger\",\n    \"year\": 1890\n  },\n  {\n    \"author\": \"Ernest Hemingway\",\n    \"country\": \"United States\",\n    \"imageLink\": \"images/the-old-man-and-the-sea.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Old_Man_and_the_Sea\\n\",\n    \"pages\": 128,\n    \"title\": \"The Old Man and the Sea\",\n    \"year\": 1952\n  },\n  {\n    \"author\": \"Homer\",\n    \"country\": \"Greece\",\n    \"imageLink\": \"images/the-iliad-of-homer.jpg\",\n    \"language\": \"Greek\",\n    \"link\": \"https://en.wikipedia.org/wiki/Iliad\\n\",\n    \"pages\": 608,\n    \"title\": \"Iliad\",\n    \"year\": -735\n  },\n  {\n    \"author\": \"Homer\",\n    \"country\": \"Greece\",\n    \"imageLink\": \"images/the-odyssey-of-homer.jpg\",\n    \"language\": \"Greek\",\n    \"link\": \"https://en.wikipedia.org/wiki/Odyssey\\n\",\n    \"pages\": 374,\n    \"title\": \"Odyssey\",\n    \"year\": -800\n  },\n  {\n    \"author\": \"Henrik Ibsen\",\n    \"country\": \"Norway\",\n    \"imageLink\": \"images/a-Dolls-house.jpg\",\n    \"language\": \"Norwegian\",\n    \"link\": \"https://en.wikipedia.org/wiki/A_Doll%27s_House\\n\",\n    \"pages\": 68,\n    \"title\": \"A Doll's House\",\n    \"year\": 1879\n  },\n  {\n    \"author\": \"James Joyce\",\n    \"country\": \"Irish Free State\",\n    \"imageLink\": \"images/ulysses.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Ulysses_(novel)\\n\",\n    \"pages\": 228,\n    \"title\": \"Ulysses\",\n    \"year\": 1922\n  },\n  {\n    \"author\": \"Franz Kafka\",\n    \"country\": \"Czechoslovakia\",\n    \"imageLink\": \"images/stories-of-franz-kafka.jpg\",\n    \"language\": \"German\",\n    \"link\": \"https://en.wikipedia.org/wiki/Franz_Kafka_bibliography#Short_stories\\n\",\n    \"pages\": 488,\n    \"title\": \"Stories\",\n    \"year\": 1924\n  },\n  {\n    \"author\": \"Franz Kafka\",\n    \"country\": \"Czechoslovakia\",\n    \"imageLink\": \"images/the-trial.jpg\",\n    \"language\": \"German\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Trial\\n\",\n    \"pages\": 160,\n    \"title\": \"The Trial\",\n    \"year\": 1925\n  },\n  {\n    \"author\": \"Franz Kafka\",\n    \"country\": \"Czechoslovakia\",\n    \"imageLink\": \"images/the-castle.jpg\",\n    \"language\": \"German\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Castle_(novel)\\n\",\n    \"pages\": 352,\n    \"title\": \"The Castle\",\n    \"year\": 1926\n  },\n  {\n    \"author\": \"K\\u0101lid\\u0101sa\",\n    \"country\": \"India\",\n    \"imageLink\": \"images/the-recognition-of-shakuntala.jpg\",\n    \"language\": \"Sanskrit\",\n    \"link\": \"https://en.wikipedia.org/wiki/Abhij%C3%B1%C4%81na%C5%9B%C4%81kuntalam\\n\",\n    \"pages\": 147,\n    \"title\": \"The recognition of Shakuntala\",\n    \"year\": 150\n  },\n  {\n    \"author\": \"Yasunari Kawabata\",\n    \"country\": \"Japan\",\n    \"imageLink\": \"images/the-sound-of-the-mountain.jpg\",\n    \"language\": \"Japanese\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Sound_of_the_Mountain\\n\",\n    \"pages\": 288,\n    \"title\": \"The Sound of the Mountain\",\n    \"year\": 1954\n  },\n  {\n    \"author\": \"Nikos Kazantzakis\",\n    \"country\": \"Greece\",\n    \"imageLink\": \"images/zorba-the-greek.jpg\",\n    \"language\": \"Greek\",\n    \"link\": \"https://en.wikipedia.org/wiki/Zorba_the_Greek\\n\",\n    \"pages\": 368,\n    \"title\": \"Zorba the Greek\",\n    \"year\": 1946\n  },\n  {\n    \"author\": \"D. H. Lawrence\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/sons-and-lovers.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Sons_and_Lovers\\n\",\n    \"pages\": 432,\n    \"title\": \"Sons and Lovers\",\n    \"year\": 1913\n  },\n  {\n    \"author\": \"Halld\\u00f3r Laxness\",\n    \"country\": \"Iceland\",\n    \"imageLink\": \"images/independent-people.jpg\",\n    \"language\": \"Icelandic\",\n    \"link\": \"https://en.wikipedia.org/wiki/Independent_People\\n\",\n    \"pages\": 470,\n    \"title\": \"Independent People\",\n    \"year\": 1934\n  },\n  {\n    \"author\": \"Giacomo Leopardi\",\n    \"country\": \"Italy\",\n    \"imageLink\": \"images/poems-giacomo-leopardi.jpg\",\n    \"language\": \"Italian\",\n    \"link\": \"\\n\",\n    \"pages\": 184,\n    \"title\": \"Poems\",\n    \"year\": 1818\n  },\n  {\n    \"author\": \"Doris Lessing\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/the-golden-notebook.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Golden_Notebook\\n\",\n    \"pages\": 688,\n    \"title\": \"The Golden Notebook\",\n    \"year\": 1962\n  },\n  {\n    \"author\": \"Astrid Lindgren\",\n    \"country\": \"Sweden\",\n    \"imageLink\": \"images/pippi-longstocking.jpg\",\n    \"language\": \"Swedish\",\n    \"link\": \"https://en.wikipedia.org/wiki/Pippi_Longstocking\\n\",\n    \"pages\": 160,\n    \"title\": \"Pippi Longstocking\",\n    \"year\": 1945\n  },\n  {\n    \"author\": \"Lu Xun\",\n    \"country\": \"China\",\n    \"imageLink\": \"images/diary-of-a-madman.jpg\",\n    \"language\": \"Chinese\",\n    \"link\": \"https://en.wikipedia.org/wiki/A_Madman%27s_Diary\\n\",\n    \"pages\": 389,\n    \"title\": \"Diary of a Madman\",\n    \"year\": 1918\n  },\n  {\n    \"author\": \"Naguib Mahfouz\",\n    \"country\": \"Egypt\",\n    \"imageLink\": \"images/children-of-gebelawi.jpg\",\n    \"language\": \"Arabic\",\n    \"link\": \"https://en.wikipedia.org/wiki/Children_of_Gebelawi\\n\",\n    \"pages\": 355,\n    \"title\": \"Children of Gebelawi\",\n    \"year\": 1959\n  },\n  {\n    \"author\": \"Thomas Mann\",\n    \"country\": \"Germany\",\n    \"imageLink\": \"images/buddenbrooks.jpg\",\n    \"language\": \"German\",\n    \"link\": \"https://en.wikipedia.org/wiki/Buddenbrooks\\n\",\n    \"pages\": 736,\n    \"title\": \"Buddenbrooks\",\n    \"year\": 1901\n  },\n  {\n    \"author\": \"Thomas Mann\",\n    \"country\": \"Germany\",\n    \"imageLink\": \"images/the-magic-mountain.jpg\",\n    \"language\": \"German\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Magic_Mountain\\n\",\n    \"pages\": 720,\n    \"title\": \"The Magic Mountain\",\n    \"year\": 1924\n  },\n  {\n    \"author\": \"Herman Melville\",\n    \"country\": \"United States\",\n    \"imageLink\": \"images/moby-dick.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Moby-Dick\\n\",\n    \"pages\": 378,\n    \"title\": \"Moby Dick\",\n    \"year\": 1851\n  },\n  {\n    \"author\": \"Michel de Montaigne\",\n    \"country\": \"France\",\n    \"imageLink\": \"images/essais.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/Essays_(Montaigne)\\n\",\n    \"pages\": 404,\n    \"title\": \"Essays\",\n    \"year\": 1595\n  },\n  {\n    \"author\": \"Elsa Morante\",\n    \"country\": \"Italy\",\n    \"imageLink\": \"images/history.jpg\",\n    \"language\": \"Italian\",\n    \"link\": \"https://en.wikipedia.org/wiki/History_(novel)\\n\",\n    \"pages\": 600,\n    \"title\": \"History\",\n    \"year\": 1974\n  },\n  {\n    \"author\": \"Toni Morrison\",\n    \"country\": \"United States\",\n    \"imageLink\": \"images/beloved.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Beloved_(novel)\\n\",\n    \"pages\": 321,\n    \"title\": \"Beloved\",\n    \"year\": 1987\n  },\n  {\n    \"author\": \"Murasaki Shikibu\",\n    \"country\": \"Japan\",\n    \"imageLink\": \"images/the-tale-of-genji.jpg\",\n    \"language\": \"Japanese\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Tale_of_Genji\\n\",\n    \"pages\": 1360,\n    \"title\": \"The Tale of Genji\",\n    \"year\": 1006\n  },\n  {\n    \"author\": \"Robert Musil\",\n    \"country\": \"Austria\",\n    \"imageLink\": \"images/the-man-without-qualities.jpg\",\n    \"language\": \"German\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Man_Without_Qualities\\n\",\n    \"pages\": 365,\n    \"title\": \"The Man Without Qualities\",\n    \"year\": 1931\n  },\n  {\n    \"author\": \"Vladimir Nabokov\",\n    \"country\": \"Russia/United States\",\n    \"imageLink\": \"images/lolita.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Lolita\\n\",\n    \"pages\": 317,\n    \"title\": \"Lolita\",\n    \"year\": 1955\n  },\n  {\n    \"author\": \"George Orwell\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/nineteen-eighty-four.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Nineteen_Eighty-Four\\n\",\n    \"pages\": 272,\n    \"title\": \"Nineteen Eighty-Four\",\n    \"year\": 1949\n  },\n  {\n    \"author\": \"Ovid\",\n    \"country\": \"Roman Empire\",\n    \"imageLink\": \"images/the-metamorphoses-of-ovid.jpg\",\n    \"language\": \"Classical Latin\",\n    \"link\": \"https://en.wikipedia.org/wiki/Metamorphoses\\n\",\n    \"pages\": 576,\n    \"title\": \"Metamorphoses\",\n    \"year\": 100\n  },\n  {\n    \"author\": \"Fernando Pessoa\",\n    \"country\": \"Portugal\",\n    \"imageLink\": \"images/the-book-of-disquiet.jpg\",\n    \"language\": \"Portuguese\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Book_of_Disquiet\\n\",\n    \"pages\": 272,\n    \"title\": \"The Book of Disquiet\",\n    \"year\": 1928\n  },\n  {\n    \"author\": \"Edgar Allan Poe\",\n    \"country\": \"United States\",\n    \"imageLink\": \"images/tales-and-poems-of-edgar-allan-poe.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Edgar_Allan_Poe_bibliography#Tales\\n\",\n    \"pages\": 842,\n    \"title\": \"Tales\",\n    \"year\": 1950\n  },\n  {\n    \"author\": \"Marcel Proust\",\n    \"country\": \"France\",\n    \"imageLink\": \"images/a-la-recherche-du-temps-perdu.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/In_Search_of_Lost_Time\\n\",\n    \"pages\": 2408,\n    \"title\": \"In Search of Lost Time\",\n    \"year\": 1920\n  },\n  {\n    \"author\": \"Fran\\u00e7ois Rabelais\",\n    \"country\": \"France\",\n    \"imageLink\": \"images/gargantua-and-pantagruel.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/Gargantua_and_Pantagruel\\n\",\n    \"pages\": 623,\n    \"title\": \"Gargantua and Pantagruel\",\n    \"year\": 1533\n  },\n  {\n    \"author\": \"Juan Rulfo\",\n    \"country\": \"Mexico\",\n    \"imageLink\": \"images/pedro-paramo.jpg\",\n    \"language\": \"Spanish\",\n    \"link\": \"https://en.wikipedia.org/wiki/Pedro_P%C3%A1ramo\\n\",\n    \"pages\": 124,\n    \"title\": \"Pedro P\\u00e1ramo\",\n    \"year\": 1955\n  },\n  {\n    \"author\": \"Rumi\",\n    \"country\": \"Sultanate of Rum\",\n    \"imageLink\": \"images/the-masnavi.jpg\",\n    \"language\": \"Persian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Masnavi\\n\",\n    \"pages\": 438,\n    \"title\": \"The Masnavi\",\n    \"year\": 1236\n  },\n  {\n    \"author\": \"Salman Rushdie\",\n    \"country\": \"United Kingdom, India\",\n    \"imageLink\": \"images/midnights-children.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Midnight%27s_Children\\n\",\n    \"pages\": 536,\n    \"title\": \"Midnight's Children\",\n    \"year\": 1981\n  },\n  {\n    \"author\": \"Saadi\",\n    \"country\": \"Persia, Persian Empire\",\n    \"imageLink\": \"images/bostan.jpg\",\n    \"language\": \"Persian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Bustan_(book)\\n\",\n    \"pages\": 298,\n    \"title\": \"Bostan\",\n    \"year\": 1257\n  },\n  {\n    \"author\": \"Tayeb Salih\",\n    \"country\": \"Sudan\",\n    \"imageLink\": \"images/season-of-migration-to-the-north.jpg\",\n    \"language\": \"Arabic\",\n    \"link\": \"https://en.wikipedia.org/wiki/Season_of_Migration_to_the_North\\n\",\n    \"pages\": 139,\n    \"title\": \"Season of Migration to the North\",\n    \"year\": 1966\n  },\n  {\n    \"author\": \"Jos\\u00e9 Saramago\",\n    \"country\": \"Portugal\",\n    \"imageLink\": \"images/blindness.jpg\",\n    \"language\": \"Portuguese\",\n    \"link\": \"https://en.wikipedia.org/wiki/Blindness_(novel)\\n\",\n    \"pages\": 352,\n    \"title\": \"Blindness\",\n    \"year\": 1995\n  },\n  {\n    \"author\": \"William Shakespeare\",\n    \"country\": \"England\",\n    \"imageLink\": \"images/hamlet.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Hamlet\\n\",\n    \"pages\": 432,\n    \"title\": \"Hamlet\",\n    \"year\": 1603\n  },\n  {\n    \"author\": \"William Shakespeare\",\n    \"country\": \"England\",\n    \"imageLink\": \"images/king-lear.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/King_Lear\\n\",\n    \"pages\": 384,\n    \"title\": \"King Lear\",\n    \"year\": 1608\n  },\n  {\n    \"author\": \"William Shakespeare\",\n    \"country\": \"England\",\n    \"imageLink\": \"images/othello.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Othello\\n\",\n    \"pages\": 314,\n    \"title\": \"Othello\",\n    \"year\": 1609\n  },\n  {\n    \"author\": \"Sophocles\",\n    \"country\": \"Greece\",\n    \"imageLink\": \"images/oedipus-the-king.jpg\",\n    \"language\": \"Greek\",\n    \"link\": \"https://en.wikipedia.org/wiki/Oedipus_the_King\\n\",\n    \"pages\": 88,\n    \"title\": \"Oedipus the King\",\n    \"year\": -430\n  },\n  {\n    \"author\": \"Stendhal\",\n    \"country\": \"France\",\n    \"imageLink\": \"images/le-rouge-et-le-noir.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Red_and_the_Black\\n\",\n    \"pages\": 576,\n    \"title\": \"The Red and the Black\",\n    \"year\": 1830\n  },\n  {\n    \"author\": \"Laurence Sterne\",\n    \"country\": \"England\",\n    \"imageLink\": \"images/the-life-and-opinions-of-tristram-shandy.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Life_and_Opinions_of_Tristram_Shandy,_Gentleman\\n\",\n    \"pages\": 640,\n    \"title\": \"The Life And Opinions of Tristram Shandy\",\n    \"year\": 1760\n  },\n  {\n    \"author\": \"Italo Svevo\",\n    \"country\": \"Italy\",\n    \"imageLink\": \"images/confessions-of-zeno.jpg\",\n    \"language\": \"Italian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Zeno%27s_Conscience\\n\",\n    \"pages\": 412,\n    \"title\": \"Confessions of Zeno\",\n    \"year\": 1923\n  },\n  {\n    \"author\": \"Jonathan Swift\",\n    \"country\": \"Ireland\",\n    \"imageLink\": \"images/gullivers-travels.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Gulliver%27s_Travels\\n\",\n    \"pages\": 178,\n    \"title\": \"Gulliver's Travels\",\n    \"year\": 1726\n  },\n  {\n    \"author\": \"Leo Tolstoy\",\n    \"country\": \"Russia\",\n    \"imageLink\": \"images/war-and-peace.jpg\",\n    \"language\": \"Russian\",\n    \"link\": \"https://en.wikipedia.org/wiki/War_and_Peace\\n\",\n    \"pages\": 1296,\n    \"title\": \"War and Peace\",\n    \"year\": 1867\n  },\n  {\n    \"author\": \"Leo Tolstoy\",\n    \"country\": \"Russia\",\n    \"imageLink\": \"images/anna-karenina.jpg\",\n    \"language\": \"Russian\",\n    \"link\": \"https://en.wikipedia.org/wiki/Anna_Karenina\\n\",\n    \"pages\": 864,\n    \"title\": \"Anna Karenina\",\n    \"year\": 1877\n  },\n  {\n    \"author\": \"Leo Tolstoy\",\n    \"country\": \"Russia\",\n    \"imageLink\": \"images/the-death-of-ivan-ilyich.jpg\",\n    \"language\": \"Russian\",\n    \"link\": \"https://en.wikipedia.org/wiki/The_Death_of_Ivan_Ilyich\\n\",\n    \"pages\": 92,\n    \"title\": \"The Death of Ivan Ilyich\",\n    \"year\": 1886\n  },\n  {\n    \"author\": \"Mark Twain\",\n    \"country\": \"United States\",\n    \"imageLink\": \"images/the-adventures-of-huckleberry-finn.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Adventures_of_Huckleberry_Finn\\n\",\n    \"pages\": 224,\n    \"title\": \"The Adventures of Huckleberry Finn\",\n    \"year\": 1884\n  },\n  {\n    \"author\": \"Valmiki\",\n    \"country\": \"India\",\n    \"imageLink\": \"images/ramayana.jpg\",\n    \"language\": \"Sanskrit\",\n    \"link\": \"https://en.wikipedia.org/wiki/Ramayana\\n\",\n    \"pages\": 152,\n    \"title\": \"Ramayana\",\n    \"year\": -450\n  },\n  {\n    \"author\": \"Virgil\",\n    \"country\": \"Roman Empire\",\n    \"imageLink\": \"images/the-aeneid.jpg\",\n    \"language\": \"Classical Latin\",\n    \"link\": \"https://en.wikipedia.org/wiki/Aeneid\\n\",\n    \"pages\": 442,\n    \"title\": \"The Aeneid\",\n    \"year\": -23\n  },\n  {\n    \"author\": \"Vyasa\",\n    \"country\": \"India\",\n    \"imageLink\": \"images/the-mahab-harata.jpg\",\n    \"language\": \"Sanskrit\",\n    \"link\": \"https://en.wikipedia.org/wiki/Mahabharata\\n\",\n    \"pages\": 276,\n    \"title\": \"Mahabharata\",\n    \"year\": -700\n  },\n  {\n    \"author\": \"Walt Whitman\",\n    \"country\": \"United States\",\n    \"imageLink\": \"images/leaves-of-grass.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Leaves_of_Grass\\n\",\n    \"pages\": 152,\n    \"title\": \"Leaves of Grass\",\n    \"year\": 1855\n  },\n  {\n    \"author\": \"Virginia Woolf\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/mrs-dalloway.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/Mrs_Dalloway\\n\",\n    \"pages\": 216,\n    \"title\": \"Mrs Dalloway\",\n    \"year\": 1925\n  },\n  {\n    \"author\": \"Virginia Woolf\",\n    \"country\": \"United Kingdom\",\n    \"imageLink\": \"images/to-the-lighthouse.jpg\",\n    \"language\": \"English\",\n    \"link\": \"https://en.wikipedia.org/wiki/To_the_Lighthouse\\n\",\n    \"pages\": 209,\n    \"title\": \"To the Lighthouse\",\n    \"year\": 1927\n  },\n  {\n    \"author\": \"Marguerite Yourcenar\",\n    \"country\": \"France/Belgium\",\n    \"imageLink\": \"images/memoirs-of-hadrian.jpg\",\n    \"language\": \"French\",\n    \"link\": \"https://en.wikipedia.org/wiki/Memoirs_of_Hadrian\\n\",\n    \"pages\": 408,\n    \"title\": \"Memoirs of Hadrian\",\n    \"year\": 1951\n  }\n].map((e, id) => Object.assign(e, { id: '' + id }));","import React from 'react';\nimport db from './data';\nimport Fuse from 'fuse.js';\n\nconst service = {\n  search(qs) {\n    return new Promise(resolve => {\n      if (this.cache[qs]) return resolve();\n      this.loading[qs] = true;\n      setTimeout(() => {\n        const suggestions = this.searcher.search(qs)\n        .filter(m => m.matches.length);\n        this.loading[qs] = false;\n        this.cache[qs] = suggestions.map(m => { \n          const item = m.item;\n          const match = m.matches[0];\n          return { item, highlight: { key: match.key, range: match.indices[0] } };\n        });\n        resolve();\n      }, 50);\n    });\n  },\n  searcher: new Fuse(db, {\n    shouldSort: true,\n    includeMatches: true,\n    threshold: 0.1,\n    location: 0,\n    distance: 100,\n    minMatchCharLength: 1,\n    keys: [\n      'author',\n      'country',\n      'title'\n    ]\n  }),\n  popular: db\n    .filter(() => Math.random() < .2)\n    .map(item => ({ item, highlight: { key: '', range: [] } })),\n  cache: {},\n  loading: {}\n};\n\nexport default service;"]}